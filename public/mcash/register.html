<!DOCTYPE html>
<html lang="en">
<head>
    <title>Mobicash</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--===============================================================================================-->
    <link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <!--===============================================================================================-->
</head>
<body style="background-color: #999999;">

<div class="limiter">
    <div class="container-login100">
        <div class="login100-more" style="background-image: url('images/mcash_background.jpg');"></div>

        <div class="wrap-login100 p-l-50 p-r-50 p-t-72 p-b-50">
            <form class="login100-form validate-form">
                <!--<span class="login100-form-title p-b-59">-->
                <p id="error" style="color: red"></p>
                <h2 style="color: #f7931d"><strong>Welcome to Mobicash</strong></h2>
                <!--</span>-->
                <br><br>
                <!--<span class="login100-form-title p-b-59">-->
                <h3>Register</h3>
                <!--</span>-->

                <br><br>

                <div class="wrap-input100 validate-input" data-validate="Name is required">
                    <span class="label-input100">Phone</span>
                    <input class="input100" type="text" name="phone" placeholder="eg: 0788888888" id="phone">
                    <span class="focus-input100"></span>
                </div>

                <div class="wrap-input100 validate-input" data-validate = "Valid email is required: ex@abc.xyz">
                <span class="label-input100">Email</span>
                <input class="input100" type="text" name="email" placeholder="Email addess..." id="email">
                <span class="focus-input100"></span>
                </div>

                <div class="wrap-input100 validate-input" data-validate="Username is required">
                <span class="label-input100">Username</span>
                <input class="input100" type="text" name="username" placeholder="Username..." id="username">
                <span class="focus-input100"></span>
                </div>

                <div class="wrap-input100 validate-input" data-validate = "Password is required">
                    <span class="label-input100">Password</span>
                    <input class="input100" type="text" name="pass" placeholder="*************" id="password">
                    <span class="focus-input100"></span>
                </div>

                <!--<div class="wrap-input100 validate-input" data-validate = "Repeat Password is required">-->
                <!--<span class="label-input100">Repeat Password</span>-->
                <!--<input class="input100" type="text" name="repeat-pass" placeholder="*************">-->
                <!--<span class="focus-input100"></span>-->
                <!--</div>-->

                <div class="flex-m w-full p-b-33">
                    <div class="contact100-form-checkbox">
                        <input class="input-checkbox100" id="ckb1" type="checkbox" checked name="remember-me" required>
                        <label class="label-checkbox100" for="ckb1">
								<span class="txt1">
									I agree to the
									<a href="#" class="txt2 hov1">
										Terms and conditions
									</a>
								</span>
                        </label>
                    </div>


                </div>

                <div class="container-login100-form-btn">
                    <div class="wrap-login100-form-btn">
                        <div class="login100-form-bgbtn"></div>
                        <button class="login100-form-btn" id="submitBtn">
                            Register
                        </button>
                    </div>

                    <a href="#" class="dis-block txt3 hov1 p-r-30 p-t-10 p-b-10 p-l-30">
                        Sign up
                        <i class="fa fa-long-arrow-right m-l-5"></i>
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

<!--===============================================================================================-->
<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/bootstrap/js/popper.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/daterangepicker/moment.min.js"></script>
<script src="vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
<script src="vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->
<script src="js/main.js"></script>

<script type="text/javascript">

    $(document).ready(function() {


        var end_point = $("#endpoint").val();
        // var phone = $("#phone").val();


        var phone = $("#phone").val();
        var email = $("#email").val();
        var username = $("#username").val();
        var password = $("#password").val();
        alert(password);

        $("#submitBtn").on('click', function (e) {
            e.preventDefault();
        $.ajax({
            type: "POST",
            url : "/api/v1/users",
//                  data : myJsonString,

            data: {
                name : username,
                date_of_birth : "2010-10-10",
                phone : phone,
                email : email

            },

            success : function(data){

                $("#submitBtn").text("...");


                //  $("#success").html(data.message);
                //  var objData = data["data"];

                var res = JSON.stringify(data);
                console.log(res)
                alert(res)
                window.localStorage.setItem('response', res);
                window.location = '/mcash/list_users.html';

            },



            error: function (xhr) {
//                      alert(xhr.status);
                var status_code = xhr.status;


                if (xhr.status == 422) {
                    var errors = JSON.parse(xhr.responseText);
                   // alert(status_code)
                    alert(errors.email)

                    console.log(xhr.responseText)
//
                    if (errors.phone) {
                        $("#error").html("Phone number is required");
                    }
                    if(errors.email){
                        $("#error").html("email is required");
                    }
//                    if (errors.travel_date) {
//                        $("#success").html("Travel date is required");
//                    }
//                    if (errors.travel_time) {
//                        $("#success").html("Travel time is required");
//                    }
//                    if (errors.start_point) {
//                        $("#success").html("Start point is required");
//                    }
//                    if (errors.end_point) {
//                        $("#success").html("End point is required");
//                    }
                }


            }

        },"json");

        })





    });
</script>
</body>
</html>